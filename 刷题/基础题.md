# 寻找重复的数

给定一个包含 n + 1 个整数的数组 nums，其数字都在 1 到 n 之间（包括 1 和 n），可知至少存在一个重复的整数。假设只有一个重复的整数，找出这个重复的数。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/find-the-duplicate-number
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

### 思路

#### 方法1

两层for 循环遍历，找相等元素

#### 方法2

根据题意，所有元素的取值都在1到n之间，可以使用1到n元素之和的求法求出1到n的元素和sum（n），再算出输入的n+1个元素之和sum（n+1）；相同的元素即为：sum（n+1）-sum（n）

#### 方法3

使用快慢指针，利用元素值在n范围内，有相同元素，即可认为整个数组元素遍历路径可组成环形，使用快慢指针，必定会相遇，如何找到重复元素呢？

快慢指针相遇存在以下信息：

![](pic\重复数1.png)

1. 快指针行走路程是慢指针的2倍

2. 慢指针行走的路径快指针已经行走过，并且与慢指针再次重合，快指针的行走路径除开共同走过的

   以上图为例：加入在C处相遇，慢指针的行走轨迹为：A->B->C，快指针的行走轨迹为：A->B->C->...->B->C，而**<u>快指针行走路程是慢指针的2倍</u>**，从中可看出快指针行走路径...->B的路径即为：A->B的路径长度，假设快指针继续行走，慢指针从A处开始行走，两个指针行走速度一致，则快慢指针将在B处相遇，即环的入口处相遇。

#### 引申

快慢指针应用场景：

1. 如何判断有环？
2. 如何找到环的入口？
3. 如何计算环的大小？以上面案例说明，从B处继续走下次走到B处，即可计算环的大小
4. 如何删除链表中倒数第n个节点？
5. 如何找到链表的中间节点？

### 代码实现

```
class Solution {
public:
    int findDuplicate(vector<int>& nums) {
        int f = 0;
        int s = 0;
        while(true) {
            f = nums[nums[f]];
            s = nums[s];
            if (f == s) {
                f = 0;
                while(nums[f] != nums[s]) {
                    f = nums[f];
                    s = nums[s];
                }

                return nums[f];
            }
        }
    }
};
```



# 只出现一次的数字

### 思路